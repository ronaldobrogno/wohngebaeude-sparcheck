<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Wohngeb√§udeversicherung 2026 ‚Äì Haus absichern & Sparpotenzial pr√ºfen</title>
  <meta name="description" content="Wohngeb√§udeversicherung f√ºr Ihr Haus: Feuer, Leitungswasser, Sturm/Hagel ‚Äì Elementar optional. Spar-Check in 2 Minuten (typisch 10‚Äì30%, teils bis 40%)." />
  <meta name="robots" content="noindex,nofollow" />

  <style>
    :root{
      --bg:#f6f8fb;
      --card:#ffffff;
      --border:#e6ebf2;
      --text:#0b1220;
      --muted:#566277;
      --primary:#1b76ff;
      --primary2:#0ea5e9;
      --green:#16a34a;
      --greenSoft:#eaf8ef;
      --blueSoft:#e9f3ff;
      --shadow: 0 10px 30px rgba(16,24,40,.08);
      --radius: 18px;
      --radius2: 14px;
      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:var(--font);
      color:var(--text);
      background:
        radial-gradient(900px 420px at 15% 10%, #e9f3ff 0%, transparent 55%),
        radial-gradient(900px 420px at 85% 10%, #eaf8ef 0%, transparent 55%),
        linear-gradient(180deg, #ffffff, var(--bg));
    }
    a{color:var(--primary); text-decoration:none}
    a:hover{text-decoration:underline}
    .container{max-width:1120px; margin:0 auto; padding:0 18px}

    /* Topbar */
    .topbar{
      position:sticky; top:0; z-index:50;
      background: rgba(255,255,255,.85);
      backdrop-filter: blur(10px);
      border-bottom:1px solid var(--border);
    }
    .topbar__inner{
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 0;
      gap:14px;
    }
    .brand{display:flex; align-items:center; gap:10px}
    .brand__logo{
      width:36px; height:36px; border-radius:12px;
      background: linear-gradient(135deg, var(--primary), var(--primary2));
      box-shadow: 0 10px 22px rgba(27,118,255,.22);
      display:inline-flex; align-items:center; justify-content:center;
      color:white; font-weight:900;
    }
    .brand__name{font-weight:800; letter-spacing:.2px}
    .brand__sub{display:block; font-size:12px; color:var(--muted); margin-top:2px}

    .nav{display:flex; align-items:center; gap:10px; flex-wrap:wrap; justify-content:flex-end}
    .nav__link{
      padding:10px 12px;
      border:1px solid var(--border);
      border-radius:999px;
      background: #fff;
      color:var(--text);
      font-size:14px;
    }
    .nav__link:hover{background: #f3f6fb; text-decoration:none}
    .nav__cta{
      border:1px solid rgba(27,118,255,.25);
      border-radius:999px;
      padding:10px 14px;
      background: linear-gradient(135deg, rgba(27,118,255,.12), rgba(14,165,233,.10));
      color:var(--text);
      font-weight:800;
      cursor:pointer;
    }
    .nav__cta:hover{filter:brightness(1.02)}

    /* Cards */
    .card{
      border:1px solid var(--border);
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }
    .card--soft{
      border-radius: var(--radius2);
      background: #fbfcff;
      border:1px solid var(--border);
      padding:14px;
    }

    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 12px;
      border-radius:999px;
      border:1px solid #cfe2ff;
      background: var(--blueSoft);
      color:#1b4fd6;
      font-size:13px;
      font-weight:700;
      margin-bottom:12px;
    }

    /* Hero */
    .hero{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap:18px;
      padding:18px 0 10px;
      align-items:stretch;
    }
    .hero__left{padding:24px}
    .hero__right{padding:24px}

    h1{margin:8px 0 10px; font-size:40px; line-height:1.08}
    .lead{margin:0 0 14px; color:var(--muted); font-size:16px; line-height:1.55}

    .highlightRow{
      display:flex; gap:10px; flex-wrap:wrap;
      margin:12px 0 14px;
    }
    .badge{
      display:inline-flex; align-items:center; gap:8px;
      padding:10px 12px;
      border-radius: 12px;
      border:1px solid var(--border);
      background:#fff;
      color:var(--text);
      font-size:13px;
      font-weight:700;
    }
    .badge i{
      width:22px; height:22px; border-radius:8px;
      display:inline-flex; align-items:center; justify-content:center;
      background: #f3f6fb;
      font-style:normal;
    }

    .ctaRow{display:flex; gap:10px; flex-wrap:wrap; margin:14px 0 10px}
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      padding:12px 14px;
      border-radius: 12px;
      border:1px solid var(--border);
      cursor:pointer;
      font-weight:800;
      color:var(--text);
      background: #fff;
    }
    .btn:hover{background:#f3f6fb; text-decoration:none}
    .btn--primary{
      border:none;
      background: linear-gradient(135deg, var(--primary), var(--primary2));
      color: white;
      box-shadow: 0 10px 22px rgba(27,118,255,.18);
    }
    .btn--ghost{background:#fff}

    .note{
      margin-top:12px;
      color: var(--muted);
      font-size:13px;
      border:1px solid var(--border);
      background: #fbfcff;
      border-radius: 12px;
      padding:12px;
    }

    .label{display:block; margin:10px 0 6px; color:var(--muted); font-size:13px; font-weight:700}
    .input{
      width:100%;
      padding:12px 12px;
      border-radius:12px;
      border:1px solid var(--border);
      background: #fff;
      color: var(--text);
      outline:none;
    }
    .input:focus{border-color: rgba(27,118,255,.45); box-shadow: 0 0 0 3px rgba(27,118,255,.12)}

    .hr{height:1px; background: var(--border); margin:16px 0}
    .h2{font-size:18px; margin:0 0 8px}
    .list{margin:0; padding-left:18px; color: var(--muted); line-height:1.7}

    /* Right visual */
    .heroVisual{
      display:flex; gap:14px; align-items:flex-start;
      padding:14px;
      border-radius: 16px;
      border:1px solid var(--border);
      background: linear-gradient(180deg, #ffffff, #f7fbff);
    }
    .houseSvg{
      width:86px; height:86px;
      flex:0 0 auto;
      border-radius: 18px;
      border:1px solid var(--border);
      background: #fff;
      display:flex; align-items:center; justify-content:center;
      box-shadow: 0 8px 20px rgba(16,24,40,.06);
    }
    .heroVisual h3{margin:0 0 6px; font-size:16px}
    .heroVisual p{margin:0; color:var(--muted); line-height:1.5; font-size:13px}

    .trustBox{
      margin-top:14px;
      border:1px solid #cfead6;
      background: var(--greenSoft);
      border-radius: 14px;
      padding:12px;
    }
    .trustBox b{color:#0f6a2c}
    .trustRow{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px}
    .chip{
      padding:8px 10px;
      border-radius:999px;
      border:1px solid #cfead6;
      background:#fff;
      font-size:13px;
      font-weight:700;
      color:#0f6a2c;
    }

    /* Link cards */
    .cards{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:14px;
      padding:12px 0 10px;
    }
    .linkCard{padding:18px}
    .linkCard h3{margin:0 0 8px}
    .linkCard p{margin:0 0 12px; color: var(--muted); line-height:1.5}

    /* FAQ */
    .faq{padding:12px 0 28px}
    .faq h2{margin:0 0 12px}
    .faqItem{
      border:1px solid var(--border);
      background: #fff;
      border-radius: 14px;
      padding:12px 14px;
      margin-bottom:10px;
    }
    .faqItem summary{cursor:pointer; font-weight:900}
    .faqItem p{color: var(--muted); line-height:1.6}

    /* Footer */
    .footer{
      border-top:1px solid var(--border);
      background: #fff;
    }
    .footer__inner{
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 0; gap:10px; flex-wrap:wrap;
    }
    .footer__links{display:flex; gap:12px}
    .muted{color:var(--muted); font-size:13px}

    /* MODAL */
    .modal{position:fixed; inset:0; display:none; z-index:100}
    .modal.is-open{display:block}
    .modal__overlay{
      position:absolute; inset:0;
      background: rgba(11,18,32,.45);
      backdrop-filter: blur(4px);
    }
    .modal__panel{
      position:relative;
      width:min(820px, calc(100% - 24px));
      margin: 70px auto 24px;
      border-radius: 18px;
      border:1px solid var(--border);
      background: #fff;
      box-shadow: 0 26px 120px rgba(11,18,32,.22);
      padding: 18px;
      max-height: calc(100vh - 94px);
      overflow:auto;
    }
    .modal__head{
      display:flex; justify-content:space-between; gap:12px; align-items:flex-start;
      border-bottom:1px solid var(--border);
      padding-bottom:12px;
    }
    .modal__kicker{color:#0f6a2c; font-weight:900; font-size:13px}
    .modal__title{margin:6px 0 0; font-size:18px}
    .iconBtn{
      border:1px solid var(--border);
      background: #fff;
      color:var(--text);
      border-radius: 12px;
      padding:10px 12px;
      cursor:pointer;
      font-weight:900;
    }
    .iconBtn:hover{background:#f3f6fb}

    .stepBar{display:flex; gap:8px; padding:14px 0}
    .stepDot{
      height:8px; flex:1;
      border-radius:999px;
      background: #eef2f8;
    }
    .stepDot.is-active{background: linear-gradient(135deg, var(--primary), var(--primary2))}

    .form{margin-top:6px}
    .step{display:none}
    .step.is-active{display:block}

    .stepNav{
      display:flex; justify-content:space-between; gap:10px; margin-top:14px;
    }
    .err{color: #c02626; font-size:13px; margin-top:6px; min-height:18px}

    .resultBox{
      border:1px solid #cfe2ff;
      background: var(--blueSoft);
      border-radius: 14px;
      padding:12px;
      margin-bottom:12px;
    }
    .resultBox__title{font-weight:900; color:#1b4fd6}
    .resultBox__text{color: #334155; margin-top:4px; line-height:1.45}
    .check{
      display:flex; gap:10px; align-items:flex-start;
      padding:12px;
      border-radius:14px;
      border:1px solid var(--border);
      background: #fbfcff;
    }
    .check input{margin-top:3px}

    @media (max-width: 980px){
      .hero{grid-template-columns:1fr}
      h1{font-size:34px}
      .cards{grid-template-columns:1fr}
      .nav{justify-content:flex-start}
      .modal__panel{margin-top:54px}
    }
  </style>
</head>

<body>
  <header class="topbar">
    <div class="container topbar__inner">
      <div class="brand" aria-label="Startseite">
        <span class="brand__logo" aria-hidden="true">üè†</span>
        <div>
          <span class="brand__name">Wohngeb√§ude-SparCheck</span>
          <span class="brand__sub">Absicherung f√ºrs Haus + Beitrag pr√ºfen</span>
        </div>
      </div>

      <nav class="nav">
        <a class="nav__link" href="kosten.html">Kosten</a>
        <a class="nav__link" href="beitragserhoehung.html">Beitragserh√∂hung</a>
        <a class="nav__link" href="elementar.html">Elementar</a>
        <a class="nav__link" href="spezialfaelle.html">Spezialf√§lle</a>
        <button type="button" class="nav__cta" id="openSparCheckTop">Spar-Check starten</button>
      </nav>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <div class="hero__left card">
        <div class="pill">‚úÖ Wohngeb√§udeversicherung 2026</div>
        <h1>Sch√ºtzen Sie Ihr Haus ‚Äì und pr√ºfen Sie, ob Sie zu viel zahlen</h1>
        <p class="lead">
          Eine Wohngeb√§udeversicherung sichert Ihr Eigentum gegen zentrale Risiken ab.
          Wir pr√ºfen anhand weniger Angaben (PLZ, Geb√§udetyp, Baujahr, Wohnfl√§che), ob ein g√ºnstigerer Tarif m√∂glich ist.
          <b>Typisch 10‚Äì30%</b>, in Einzelf√§llen <b>bis zu 40%</b>.
        </p>

        <div class="highlightRow">
          <span class="badge"><i>üî•</i> Feuer</span>
          <span class="badge"><i>üíß</i> Leitungswasser</span>
          <span class="badge"><i>üå¨Ô∏è</i> Sturm & Hagel</span>
          <span class="badge"><i>üåßÔ∏è</i> Elementar optional</span>
        </div>

        <div class="ctaRow">
          <button type="button" class="btn btn--primary" id="openSparCheck">Spar-Check starten</button>
          <a class="btn btn--ghost" href="beitragserhoehung.html">Ich hatte eine Beitragserh√∂hung ‚Üí</a>
        </div>

        <div class="note">
          <b>Wichtig:</b> Wir achten auf passenden Versicherungswert (z. B. Wert 1914/gleitender Neuwert),
          damit keine Unterversicherung entsteht und Ihr Haus sauber abgesichert bleibt.
        </div>
      </div>

      <aside class="hero__right card">
        <div class="heroVisual">
          <div class="houseSvg" aria-hidden="true">
            <!-- simple house shield icon -->
            <svg width="52" height="52" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M10 30L32 12L54 30V54H38V40H26V54H10V30Z" fill="#E9F3FF" stroke="#1B76FF" stroke-width="2"/>
              <path d="M32 26C24 26 18 30 18 30V36C18 45 24 51 32 54C40 51 46 45 46 36V30C46 30 40 26 32 26Z" fill="#EAF8EF" stroke="#16A34A" stroke-width="2"/>
            </svg>
          </div>
          <div>
            <h3>Worum geht‚Äôs hier?</h3>
            <p>
              Um die <b>Absicherung Ihres Hauses</b> (Wohngeb√§udeversicherung) ‚Äì und darum,
              ob Sie einen besseren Beitrag bei passendem Schutz bekommen k√∂nnen.
            </p>
          </div>
        </div>

        <div class="trustBox">
          <b>So l√§uft‚Äôs ab:</b>
          <div class="muted" style="margin-top:6px;">
            1) Geb√§ude-Details ‚Üí 2) PLZ & Eckdaten ‚Üí 3) Kontakt ‚Üí 4) Vergleich erhalten
          </div>
          <div class="trustRow">
            <span class="chip">Kostenlos</span>
            <span class="chip">Unverbindlich</span>
            <span class="chip">Datenschutz</span>
          </div>
        </div>

        <div class="hr"></div>

        <h2 class="h2">Worauf wir beim Vergleich achten</h2>
        <ul class="list">
          <li>Versicherungswert korrekt ‚Üí keine Unterversicherung</li>
          <li>Leistungsbausteine: grobe Fahrl√§ssigkeit, Rohre, Aufr√§umkosten</li>
          <li>Elementar-Risiko (Starkregen/R√ºckstau) je nach Region</li>
        </ul>
      </aside>
    </section>

    <section class="cards">
      <a class="card linkCard" href="kosten.html">
        <h3>üí∂ Was kostet eine Wohngeb√§udeversicherung?</h3>
        <p>Die wichtigsten Preisfaktoren ‚Äì einfach erkl√§rt.</p>
        <span class="btn">Kosten verstehen</span>
      </a>

      <a class="card linkCard" href="beitragserhoehung.html">
        <h3>üìà Beitragserh√∂hung erhalten?</h3>
        <p>Welche Optionen sinnvoll sind ‚Äì ohne Schutzl√ºcke.</p>
        <span class="btn">Wechselhilfe</span>
      </a>

      <a class="card linkCard" href="elementar.html">
        <h3>üåßÔ∏è Elementar: Starkregen & R√ºckstau</h3>
        <p>Wann es sich lohnt und worauf man achten sollte.</p>
        <span class="btn">Elementar-Guide</span>
      </a>
    </section>

    <section class="faq">
      <h2>H√§ufige Fragen</h2>

      <details class="faqItem">
        <summary>Was ist in der Wohngeb√§udeversicherung typischerweise versichert?</summary>
        <p>Meist Feuer, Leitungswasser sowie Sturm/Hagel. Elementarsch√§den (z. B. Starkregen/√úberschwemmung/R√ºckstau) sind h√§ufig optional.</p>
      </details>

      <details class="faqItem">
        <summary>Warum steigen Beitr√§ge oft jedes Jahr?</summary>
        <p>U. a. durch Baukosten-/Neuwertfaktoren und die Schadenentwicklung. Ein Vergleich kann helfen, Beitrag und Leistung neu zu optimieren.</p>
      </details>

      <div class="ctaRow">
        <button type="button" class="btn btn--primary" id="openSparCheckBottom">Spar-Check starten</button>
        <a class="btn" href="spezialfaelle.html">Spezialf√§lle ansehen</a>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container footer__inner">
      <div>¬© 2026 Wohngeb√§ude-SparCheck</div>
      <div class="footer__links">
        <a href="impressum.html">Impressum</a>
        <a href="datenschutz.html">Datenschutz</a>
      </div>
      <div class="muted">Vorschau-Modus (noindex)</div>
    </div>
  </footer>

  <!-- MODAL / FUNNEL -->
  <div class="modal" id="sparcheckModal" aria-hidden="true">
    <div class="modal__overlay" data-close></div>

    <div class="modal__panel" role="dialog" aria-modal="true" aria-labelledby="sparTitle">
      <div class="modal__head">
        <div>
          <div class="modal__kicker">‚úÖ Spar-Check (kostenlos & unverbindlich)</div>
          <h2 id="sparTitle" class="modal__title">Kurze Angaben ‚Äì wir senden Ihnen den Vergleich</h2>
        </div>
        <button type="button" class="iconBtn" data-close aria-label="Schlie√üen">‚úï</button>
      </div>

      <div class="steps">
        <div class="stepBar">
          <div class="stepDot is-active" data-dot="1"></div>
          <div class="stepDot" data-dot="2"></div>
          <div class="stepDot" data-dot="3"></div>
          <div class="stepDot" data-dot="4"></div>
          <div class="stepDot" data-dot="5"></div>
          <div class="stepDot" data-dot="6"></div>
        </div>

        <form id="leadForm" class="form" method="POST" action="#">
          <section class="step is-active" data-step="1">
            <label class="label">Geb√§udetyp</label>
            <select class="input" name="gebaeudetyp" id="gebaeudetyp" required>
              <option value="">Bitte w√§hlen‚Ä¶</option>
              <option>Einfamilienhaus (EFH)</option>
              <option>Doppelhaush√§lfte (DHH)</option>
              <option>Reihenhaus</option>
              <option>Mehrfamilienhaus (MFH)</option>
              <option>Ferien-/Wochenendhaus</option>
              <option>Fachwerkhaus</option>
              <option>Denkmalgesch√ºtzte Immobilie</option>
              <option>Reetdachhaus</option>
              <option>Sonstiges</option>
            </select>
            <div class="err" data-err="gebaeudetyp"></div>
            <div class="stepNav">
              <button type="button" class="btn btn--primary" data-next>Weiter</button>
            </div>
          </section>

          <section class="step" data-step="2">
            <label class="label">PLZ</label>
            <input class="input" name="plz" id="plz" inputmode="numeric" placeholder="z. B. 10115" required />
            <div class="err" data-err="plz"></div>
            <div class="stepNav">
              <button type="button" class="btn" data-back>Zur√ºck</button>
              <button type="button" class="btn btn--primary" data-next>Weiter</button>
            </div>
          </section>

          <section class="step" data-step="3">
            <label class="label">Baujahr</label>
            <input class="input" name="baujahr" id="baujahr" inputmode="numeric" placeholder="z. B. 1998" required />
            <div class="err" data-err="baujahr"></div>

            <label class="label" style="margin-top:12px;">Wohnfl√§che (m¬≤)</label>
            <input class="input" name="wohnflaeche" id="wohnflaeche" inputmode="numeric" placeholder="z. B. 120" required />
            <div class="err" data-err="wohnflaeche"></div>

            <div class="stepNav">
              <button type="button" class="btn" data-back>Zur√ºck</button>
              <button type="button" class="btn btn--primary" data-next>Weiter</button>
            </div>
          </section>

          <section class="step" data-step="4">
            <label class="label">Aktueller Anbieter (optional)</label>
            <input class="input" name="aktueller_anbieter" id="anbieter" placeholder="z. B. HUK, Allianz, AXA‚Ä¶" />

            <label class="label" style="margin-top:12px;">Aktueller Jahresbeitrag (optional)</label>
            <input class="input" name="jahresbeitrag" id="jahresbeitrag" inputmode="numeric" placeholder="z. B. 800" />

            <label class="label" style="margin-top:12px;">Elementar aktuell enthalten?</label>
            <select class="input" name="elementar" id="elementarSel">
              <option value="">Bitte w√§hlen‚Ä¶</option>
              <option value="ja">Ja</option>
              <option value="nein">Nein</option>
              <option value="unsicher">Wei√ü ich nicht</option>
            </select>

            <div class="stepNav">
              <button type="button" class="btn" data-back>Zur√ºck</button>
              <button type="button" class="btn btn--primary" data-next>Weiter</button>
            </div>
          </section>

          <section class="step" data-step="5">
            <div class="resultBox">
              <div class="resultBox__title">üìç Ihr Vergleich ist fast fertig</div>
              <div class="resultBox__text">
                Wohin d√ºrfen wir Ihnen den Vergleich zur Wohngeb√§udeversicherung senden?
              </div>
            </div>

            <label class="label">Name</label>
            <input class="input" name="name" id="name" placeholder="Vor- und Nachname" required />
            <div class="err" data-err="name"></div>

            <label class="label" style="margin-top:12px;">E-Mail</label>
            <input class="input" name="email" id="email" type="email" placeholder="name@mail.de" required />
            <div class="err" data-err="email"></div>

            <label class="label" style="margin-top:12px;">Telefon</label>
            <input class="input" name="telefon" id="telefon" inputmode="tel" placeholder="z. B. 0176 12345678" required />
            <div class="err" data-err="telefon"></div>

            <div class="stepNav">
              <button type="button" class="btn" data-back>Zur√ºck</button>
              <button type="button" class="btn btn--primary" data-next>Weiter</button>
            </div>
          </section>

          <section class="step" data-step="6">
            <label class="check">
              <input type="checkbox" id="dsgvo" required />
              <span>
                Ich habe die <a href="datenschutz.html" target="_blank" rel="noopener">Datenschutzerkl√§rung</a> gelesen und bin einverstanden.
              </span>
            </label>
            <div class="err" data-err="dsgvo"></div>

            <div class="muted" style="margin-top:10px;">
              Vorschau: Es wird nichts versendet.
            </div>

            <div class="stepNav">
              <button type="button" class="btn" data-back>Zur√ºck</button>
              <button type="submit" class="btn btn--primary">Vergleich anfordern</button>
            </div>
          </section>
        </form>

        <div class="thanks" id="thanks" hidden>
          <h3>Danke! ‚úÖ</h3>
          <p>Vorschau-Modus: Anfrage ist vorbereitet (keine √úbertragung).</p>
          <button type="button" class="btn btn--primary" data-close>Schlie√üen</button>
        </div>

      </div>
    </div>
  </div>

  <script>
    (function(){
      const qs = (s, el=document) => el.querySelector(s);
      const qsa = (s, el=document) => Array.from(el.querySelectorAll(s));

      const modal = qs("#sparcheckModal");
      const form  = qs("#leadForm");
      const thanks = qs("#thanks");

      function openModal(){
        if(!modal) return;
        modal.classList.add("is-open");
        modal.setAttribute("aria-hidden","false");
        document.body.style.overflow="hidden";
      }
      function closeModal(){
        if(!modal) return;
        modal.classList.remove("is-open");
        modal.setAttribute("aria-hidden","true");
        document.body.style.overflow="";
      }

      function setDot(step){
        qsa(".stepDot").forEach(d=>d.classList.remove("is-active"));
        const dot = qs(`.stepDot[data-dot="${step}"]`);
        if(dot) dot.classList.add("is-active");
      }
      function setStep(step){
        qsa(".step", modal).forEach(s=>s.classList.remove("is-active"));
        const st = qs(`.step[data-step="${step}"]`, modal);
        if(st) st.classList.add("is-active");
        setDot(step);
        const panel = qs(".modal__panel", modal);
        if(panel) panel.scrollTop = 0;
      }

      function setErr(key,msg){
        const box = qs(`[data-err="${key}"]`, modal);
        if(box) box.textContent = msg || "";
      }
      function validPlz(v){ return /^[0-9]{5}$/.test(String(v||"").trim()); }
      function validYear(v){
        const n=Number(String(v||"").trim()), y=new Date().getFullYear();
        return Number.isFinite(n) && n>=1600 && n<=y;
      }
      function validArea(v){
        const n=Number(String(v||"").trim());
        return Number.isFinite(n) && n>=10 && n<=2000;
      }
      function validName(v){
        const s=String(v||"").trim();
        return s.length>=3 && s.includes(" ");
      }
      function validEmail(v){ return /^\S+@\S+\.\S+$/.test(String(v||"").trim()); }
      function validPhone(v){
        const s=String(v||"").trim().replace(/\s+/g,"");
        return /^[+0-9()\-]{7,}$/.test(s);
      }

      let currentStep = 1;

      function validate(step){
        ["gebaeudetyp","plz","baujahr","wohnflaeche","name","email","telefon","dsgvo"].forEach(k=>setErr(k,""));

        if(step===1){
          const v=qs("#gebaeudetyp")?.value;
          if(!v){ setErr("gebaeudetyp","Bitte Geb√§udetyp ausw√§hlen."); return false; }
        }
        if(step===2){
          const v=qs("#plz")?.value;
          if(!validPlz(v)){ setErr("plz","Bitte eine g√ºltige 5-stellige PLZ eingeben."); return false; }
        }
        if(step===3){
          const y=qs("#baujahr")?.value;
          const a=qs("#wohnflaeche")?.value;
          if(!validYear(y)){ setErr("baujahr","Bitte g√ºltiges Baujahr eingeben (z. B. 1998)."); return false; }
          if(!validArea(a)){ setErr("wohnflaeche","Bitte Wohnfl√§che in m¬≤ eingeben (z. B. 120)."); return false; }
        }
        if(step===5){
          const n=qs("#name")?.value;
          const e=qs("#email")?.value;
          const t=qs("#telefon")?.value;
          if(!validName(n)){ setErr("name","Bitte Vor- und Nachname eingeben."); return false; }
          if(!validEmail(e)){ setErr("email","Bitte g√ºltige E-Mail eingeben."); return false; }
          if(!validPhone(t)){ setErr("telefon","Bitte g√ºltige Telefonnummer eingeben."); return false; }
        }
        if(step===6){
          const ok=qs("#dsgvo")?.checked;
          if(!ok){ setErr("dsgvo","Bitte Datenschutz-Zustimmung setzen."); return false; }
        }
        return true;
      }

      ["#openSparCheck","#openSparCheckTop","#openSparCheckBottom"].forEach(sel=>{
        const btn = qs(sel);
        if(btn){
          btn.addEventListener("click", (e)=>{
            e.preventDefault();
            currentStep = 1;
            if(thanks) thanks.hidden = true;
            if(form) form.style.display = "";
            setStep(1);
            openModal();
          });
        }
      });

      qsa("[data-close]", modal).forEach(el=>{
        el.addEventListener("click", (e)=>{ e.preventDefault(); closeModal(); });
      });
      document.addEventListener("keydown",(e)=>{
        if(e.key==="Escape" && modal?.classList.contains("is-open")) closeModal();
      });

      if(form){
        form.addEventListener("click",(e)=>{
          const t = e.target;
          if(t && t.hasAttribute("data-next")){
            e.preventDefault();
            if(!validate(currentStep)) return;
            currentStep = Math.min(currentStep+1, 6);
            setStep(currentStep);
          }
          if(t && t.hasAttribute("data-back")){
            e.preventDefault();
            currentStep = Math.max(currentStep-1, 1);
            setStep(currentStep);
          }
        });

        form.addEventListener("submit",(e)=>{
          e.preventDefault();
          if(!validate(6)) return;
          form.style.display="none";
          if(thanks) thanks.hidden=false;
        });
      }
    })();
  </script>
</body>
</html>
